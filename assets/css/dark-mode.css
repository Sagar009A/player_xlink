/**
 * LinkStreamX Dark Mode Styles
 * Version: 1.0
 * Author: LinkStreamX Team
 */

/* ============================================================
   DARK MODE COLOR VARIABLES
   ============================================================ */
body.dark-mode {
    --bg-color: #000000;
    --bg-secondary: #0a0a0a;
    --bg-tertiary: #1a1a1a;
    --text-color: #ffffff;
    --text-secondary: #b0b0b0;
    --border-color: #2d2d2d;
    --hover-color: #1a1a1a;
    --shadow: 0 2px 10px rgba(255, 59, 48, 0.3);
    --shadow-hover: 0 5px 20px rgba(255, 59, 48, 0.5);
}

/* ============================================================
   BODY & GENERAL ELEMENTS
   ============================================================ */
body.dark-mode {
    background-color: var(--bg-color);
    color: var(--text-color);
}

body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6 {
    color: var(--text-color);
}

body.dark-mode p,
body.dark-mode span,
body.dark-mode div {
    color: var(--text-color);
}

body.dark-mode a {
    color: #ff3b30;
}

body.dark-mode a:hover {
    color: #ff6347;
}

/* ============================================================
   CARDS & CONTAINERS
   ============================================================ */
body.dark-mode .card {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .card-header {
    background: linear-gradient(135deg, #ff3b30, #ff6347);
    border-bottom-color: var(--border-color);
}

body.dark-mode .card-body {
    background-color: var(--bg-secondary);
    color: var(--text-color);
}

body.dark-mode .card-footer {
    background-color: var(--bg-tertiary);
    border-top-color: var(--border-color);
}

/* ============================================================
   FORMS
   ============================================================ */
body.dark-mode .form-control {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .form-control:focus {
    background-color: var(--bg-tertiary);
    border-color: #ff3b30;
    color: var(--text-color);
    box-shadow: 0 0 0 0.2rem rgba(255, 59, 48, 0.25);
}

body.dark-mode .form-control::placeholder {
    color: var(--text-secondary);
    opacity: 0.7;
}

body.dark-mode .form-control:disabled {
    background-color: #0a0a0a;
    color: var(--text-secondary);
}

body.dark-mode .form-select {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23eaeaea' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
}

body.dark-mode .form-select:focus {
    background-color: var(--bg-tertiary);
    border-color: #3498db;
    color: var(--text-color);
}

body.dark-mode .form-label {
    color: var(--text-color);
}

body.dark-mode .form-check-input {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
}

body.dark-mode .form-check-input:checked {
    background-color: #ff3b30;
    border-color: #ff3b30;
}

body.dark-mode .form-check-label {
    color: var(--text-color);
}

body.dark-mode .input-group-text {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

/* ============================================================
   BUTTONS
   ============================================================ */
body.dark-mode .btn-secondary {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .btn-secondary:hover {
    background-color: var(--hover-color);
    border-color: var(--border-color);
}

body.dark-mode .btn-outline-secondary {
    color: var(--text-color);
    border-color: var(--border-color);
}

body.dark-mode .btn-outline-secondary:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-color);
}

body.dark-mode .btn-link {
    color: #ff3b30;
}

body.dark-mode .btn-link:hover {
    color: #ff6347;
}

/* ============================================================
   TABLES
   ============================================================ */
body.dark-mode .table {
    color: var(--text-color);
    border-color: var(--border-color);
}

body.dark-mode .table thead {
    background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
    color: var(--text-color);
}

body.dark-mode .table thead th {
    border-color: var(--border-color);
}

body.dark-mode .table tbody tr {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .table tbody td {
    border-color: var(--border-color);
    color: var(--text-color);
    background-color: var(--bg-secondary);
}

/* Ensure text in table cells is always visible */
body.dark-mode .table tbody td strong {
    color: var(--text-color);
}

body.dark-mode .table tbody td div {
    color: var(--text-color);
}

body.dark-mode .table-hover tbody tr:hover {
    background-color: rgba(52, 152, 219, 0.2);
    color: var(--text-color);
}

body.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255, 255, 255, 0.02);
}

body.dark-mode .table-bordered {
    border-color: var(--border-color);
}

/* ============================================================
   NAVIGATION & SIDEBAR
   ============================================================ */
body.dark-mode .sidebar {
    background-color: var(--bg-secondary);
    border-right-color: var(--border-color);
}

body.dark-mode .sidebar .nav-link {
    color: var(--text-color);
}

body.dark-mode .sidebar .nav-link:hover {
    background-color: var(--hover-color);
    color: #ff3b30;
}

body.dark-mode .sidebar .nav-link.active {
    background: linear-gradient(135deg, #ff3b30, #ff6347);
    color: white;
}

body.dark-mode .navbar {
    background-color: var(--bg-secondary) !important;
    border-bottom: 1px solid var(--border-color);
}

body.dark-mode .navbar-brand {
    color: var(--text-color) !important;
}

body.dark-mode .navbar-nav .nav-link {
    color: var(--text-color) !important;
}

body.dark-mode .navbar-nav .nav-link:hover {
    color: #ff3b30 !important;
}

/* ============================================================
   DROPDOWNS
   ============================================================ */
body.dark-mode .dropdown-menu {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .dropdown-item {
    color: var(--text-color);
}

body.dark-mode .dropdown-item:hover,
body.dark-mode .dropdown-item:focus {
    background-color: var(--hover-color);
    color: var(--text-color);
}

body.dark-mode .dropdown-divider {
    border-color: var(--border-color);
}

/* ============================================================
   MODALS
   ============================================================ */
body.dark-mode .modal-content {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .modal-header {
    background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
    border-bottom-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .modal-body {
    background-color: var(--bg-secondary);
    color: var(--text-color);
}

body.dark-mode .modal-footer {
    background-color: var(--bg-secondary);
    border-top-color: var(--border-color);
}

body.dark-mode .modal-title {
    color: var(--text-color);
}

body.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* ============================================================
   ALERTS
   ============================================================ */
body.dark-mode .alert {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .alert-success {
    background-color: rgba(46, 204, 113, 0.2);
    border-color: #2ecc71;
    color: #2ecc71;
}

body.dark-mode .alert-danger {
    background-color: rgba(231, 76, 60, 0.2);
    border-color: #e74c3c;
    color: #e74c3c;
}

body.dark-mode .alert-warning {
    background-color: rgba(243, 156, 18, 0.2);
    border-color: #f39c12;
    color: #f39c12;
}

body.dark-mode .alert-info {
    background-color: rgba(255, 59, 48, 0.2);
    border-color: #ff3b30;
    color: #ff3b30;
}

/* ============================================================
   BADGES
   ============================================================ */
body.dark-mode .badge {
    background-color: var(--bg-tertiary);
    color: var(--text-color);
}

body.dark-mode .badge.bg-secondary {
    background-color: var(--bg-tertiary) !important;
}

/* ============================================================
   LIST GROUPS
   ============================================================ */
body.dark-mode .list-group-item {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .list-group-item:hover {
    background-color: var(--hover-color);
}

body.dark-mode .list-group-item.active {
    background-color: #ff3b30;
    border-color: #ff3b30;
}

/* ============================================================
   PAGINATION
   ============================================================ */
body.dark-mode .pagination .page-link {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .pagination .page-link:hover {
    background-color: var(--hover-color);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .pagination .page-item.active .page-link {
    background-color: #ff3b30;
    border-color: #ff3b30;
}

body.dark-mode .pagination .page-item.disabled .page-link {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-secondary);
}

/* ============================================================
   BREADCRUMBS
   ============================================================ */
body.dark-mode .breadcrumb {
    background-color: var(--bg-secondary);
}

body.dark-mode .breadcrumb-item a {
    color: #ff3b30;
}

body.dark-mode .breadcrumb-item.active {
    color: var(--text-secondary);
}

/* ============================================================
   PROGRESS BARS
   ============================================================ */
body.dark-mode .progress {
    background-color: var(--bg-tertiary);
}

body.dark-mode .progress-bar {
    background-color: #ff3b30;
}

/* ============================================================
   TOOLTIPS & POPOVERS
   ============================================================ */
body.dark-mode .tooltip-inner {
    background-color: var(--bg-secondary);
    color: var(--text-color);
}

body.dark-mode .popover {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .popover-header {
    background-color: var(--bg-tertiary);
    border-bottom-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .popover-body {
    color: var(--text-color);
}

/* ============================================================
   CODE BLOCKS
   ============================================================ */
body.dark-mode code {
    background-color: rgba(255, 59, 48, 0.3);
    color: #ffffff;
    font-weight: 500;
}

body.dark-mode pre {
    background-color: #0a0a0a;
    border-color: var(--border-color);
    color: var(--text-color);
}

/* Code in tables - ensure visibility */
body.dark-mode .table code {
    background-color: rgba(255, 59, 48, 0.3);
    color: #ffffff;
    padding: 3px 8px;
    border-radius: 4px;
    font-weight: 500;
}

/* Small text in tables */
body.dark-mode .table small {
    color: var(--text-secondary);
}

/* Text-muted in tables */
body.dark-mode .table .text-muted,
body.dark-mode .table small.text-muted {
    color: #b0b0b0 !important;
}

/* Input groups in tables */
body.dark-mode .table .input-group .form-control {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .table .input-group .btn {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .table .input-group .btn:hover {
    background-color: var(--hover-color);
    border-color: var(--primary-color);
}

/* ============================================================
   SCROLLBARS (Webkit Browsers)
   ============================================================ */
body.dark-mode ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

body.dark-mode ::-webkit-scrollbar-track {
    background: var(--bg-tertiary);
}

body.dark-mode ::-webkit-scrollbar-thumb {
    background: #ff3b30;
    border-radius: 5px;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: #ff6347;
}

/* ============================================================
   STAT CARDS (Dashboard)
   ============================================================ */
body.dark-mode .stat-card {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .stat-card:hover {
    box-shadow: var(--shadow-hover);
}

/* Keep gradient backgrounds for stat cards even in dark mode */
body.dark-mode .bg-gradient-primary,
body.dark-mode .bg-gradient-success,
body.dark-mode .bg-gradient-info,
body.dark-mode .bg-gradient-warning {
    /* These keep their original gradient colors */
}

/* ============================================================
   FOOTER
   ============================================================ */
body.dark-mode .footer {
    background-color: var(--bg-secondary);
    border-top: 1px solid var(--border-color);
}

body.dark-mode .footer a {
    color: var(--text-secondary);
}

body.dark-mode .footer a:hover {
    color: var(--text-color);
}

/* ============================================================
   HERO SECTION (Homepage)
   ============================================================ */
body.dark-mode .hero {
    background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
}

body.dark-mode .features {
    background-color: var(--bg-color);
}

body.dark-mode .feature-box {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
}

body.dark-mode .feature-box:hover {
    background-color: var(--hover-color);
    box-shadow: var(--shadow-hover);
}

/* ============================================================
   VIDEO PLAYER (Redirect Page)
   ============================================================ */
body.dark-mode .video-container {
    background-color: var(--bg-color);
}

body.dark-mode .video-info {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
}

body.dark-mode .shared-by {
    border-top-color: var(--border-color);
}

/* ============================================================
   QR CODE CONTAINER
   ============================================================ */
body.dark-mode .qr-code-container {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
}

/* ============================================================
   CHARTS & ANALYTICS
   ============================================================ */
body.dark-mode .chart-container {
    background-color: var(--bg-secondary);
}

body.dark-mode canvas {
    filter: brightness(0.9);
}

/* ============================================================
   HEATMAP
   ============================================================ */
body.dark-mode .heatmap-cell {
    background-color: var(--bg-tertiary);
    border: 1px solid var(--border-color);
}

body.dark-mode .heatmap-cell:hover {
    border-color: #ff3b30;
}

/* ============================================================
   ACCORDION
   ============================================================ */
body.dark-mode .accordion-item {
    background-color: var(--bg-secondary);
    border-color: var(--border-color);
}

body.dark-mode .accordion-button {
    background-color: var(--bg-tertiary);
    color: var(--text-color);
}

body.dark-mode .accordion-button:not(.collapsed) {
    background-color: var(--hover-color);
    color: var(--text-color);
}

body.dark-mode .accordion-body {
    background-color: var(--bg-secondary);
    color: var(--text-color);
}

/* ============================================================
   TABS
   ============================================================ */
body.dark-mode .nav-tabs {
    border-bottom-color: var(--border-color);
}

body.dark-mode .nav-tabs .nav-link {
    color: var(--text-color);
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
}

body.dark-mode .nav-tabs .nav-link:hover {
    border-color: var(--border-color);
    background-color: var(--hover-color);
}

body.dark-mode .nav-tabs .nav-link.active {
    background-color: var(--bg-secondary);
    border-color: var(--border-color) var(--border-color) var(--bg-secondary);
    color: var(--text-color);
}

body.dark-mode .tab-content {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-top: none;
}

/* ============================================================
   SPINNERS & LOADING
   ============================================================ */
body.dark-mode .spinner-border {
    border-color: rgba(255, 59, 48, 0.3);
    border-left-color: #ff3b30;
}

body.dark-mode .loading {
    background-color: var(--bg-color);
}

/* ============================================================
   TEXT UTILITIES
   ============================================================ */
body.dark-mode .text-muted {
    color: var(--text-secondary) !important;
}

body.dark-mode .text-dark {
    color: var(--text-color) !important;
}

body.dark-mode .text-white {
    color: #ffffff !important;
}

/* ============================================================
   BACKGROUND UTILITIES
   ============================================================ */
body.dark-mode .bg-light {
    background-color: var(--bg-tertiary) !important;
}

body.dark-mode .bg-white {
    background-color: var(--bg-secondary) !important;
}

/* ============================================================
   BORDER UTILITIES
   ============================================================ */
body.dark-mode .border {
    border-color: var(--border-color) !important;
}

body.dark-mode .border-top {
    border-top-color: var(--border-color) !important;
}

body.dark-mode .border-bottom {
    border-bottom-color: var(--border-color) !important;
}

body.dark-mode .border-left {
    border-left-color: var(--border-color) !important;
}

body.dark-mode .border-right {
    border-right-color: var(--border-color) !important;
}

/* ============================================================
   TRANSITIONS (Smooth theme switching)
   ============================================================ */
body,
.card,
.form-control,
.form-select,
.sidebar,
.modal-content,
.table,
.alert,
.list-group-item,
.dropdown-menu,
.navbar,
.btn,
.accordion-button,
.nav-link {
    transition: background-color 0.3s ease, 
                color 0.3s ease, 
                border-color 0.3s ease;
}

/* ============================================================
   THEME TOGGLE ICON ANIMATION
   ============================================================ */
.theme-toggle-icon {
    transition: transform 0.3s ease;
}

body.dark-mode .theme-toggle-icon {
    transform: rotate(180deg);
}

/* ============================================================
   CUSTOM UTILITIES FOR DARK MODE
   ============================================================ */
body.dark-mode .shadow-dark {
    box-shadow: var(--shadow) !important;
}

body.dark-mode .shadow-dark-lg {
    box-shadow: var(--shadow-hover) !important;
}

body.dark-mode .border-dark {
    border-color: var(--border-color) !important;
}

body.dark-mode .bg-dark-primary {
    background-color: var(--bg-color) !important;
}

body.dark-mode .bg-dark-secondary {
    background-color: var(--bg-secondary) !important;
}

body.dark-mode .bg-dark-tertiary {
    background-color: var(--bg-tertiary) !important;
}

/* ============================================================
   CARD AND PANEL FIXES
   ============================================================ */
body.dark-mode .card .bg-light {
    background-color: var(--bg-tertiary) !important;
    color: var(--text-color) !important;
}

body.dark-mode .card .bg-white {
    background-color: var(--bg-secondary) !important;
    color: var(--text-color) !important;
}

body.dark-mode .card ul li {
    color: var(--text-color);
}

body.dark-mode .card small {
    color: var(--text-secondary);
}

/* ============================================================
   FORM ELEMENT VISIBILITY
   ============================================================ */
body.dark-mode .form-label {
    color: var(--text-color);
}

body.dark-mode .input-group .btn-outline-secondary {
    background-color: var(--bg-tertiary);
    border-color: var(--border-color);
    color: var(--text-color);
}

body.dark-mode .input-group .btn-outline-secondary:hover {
    background-color: var(--hover-color);
    border-color: var(--primary-color);
    color: var(--text-color);
}

/* ============================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================ */
@media (max-width: 768px) {
    body.dark-mode .sidebar {
        background-color: var(--bg-secondary);
        border-right: none;
    }
    
    body.dark-mode .navbar-toggler {
        border-color: var(--border-color);
    }
}

/* ============================================================
   PRINT STYLES (Dark mode disabled for printing)
   ============================================================ */
@media print {
    body.dark-mode {
        background-color: white !important;
        color: black !important;
    }
    
    body.dark-mode .card,
    body.dark-mode .table,
    body.dark-mode .modal-content {
        background-color: white !important;
        color: black !important;
    }
}

/* ============================================================
   END OF DARK MODE STYLES
   ============================================================ */